# Caption Generator（キャプション ジェネレーター）

トーン（**やさしめ / シュール / エモ / ミニマル**）を選ぶだけで、短いコピーを**サッと量産**できる、**単一HTMLファイル**のシングルページアプリ（SPA）です。A/Bお気に入り保存や、自作フレーズ辞書の“学習”にも対応。**オフライン動作**・**外部ライブラリなし**。

---

## ✨ 特長

* **ワンクリック生成**：3〜16個の短いコピーを一括生成
* **4つのトーン**：やさしめ / シュール / エモ / ミニマル
* **A/Bお気に入り保存**：あとで見比べて選べる（`localStorage`に保存）
* **“学習”機能**：自作フレーズ辞書をトーン別に拡張
* **読みやすさスコア**：0〜100でざっくり評価＋**文字数**表示
* **書き出し**：JSON / CSV エクスポート
* **完全ローカル**：ネット接続不要、単一HTMLで完結


---

## 🚀 クイックスタート（5分）

1. **VS Code**を開く。
2. 新規ファイルを作成し、名前を **`caption-generator.html`** にする。
3. 提供された**単一HTMLコード**を丸ごと貼り付け、保存。
4. （推奨）VS Code拡張 **Live Server** を使って起動：ファイルを右クリック → **Open with Live Server**。

   * そのままダブルクリックでブラウザを開いてもOKです（`file://`で開く場合、一部ブラウザでコピー機能が制限されることがあります）。
5. 画面上部の**テーマ/キーワード**に例：`朝のコーヒー` を入力 → **トーン選択** → **生成**。
6. 気に入った案は **A/B に保存** → 後で見比べ。
7. **JSON/CSV**でお気に入りや辞書をエクスポート可能。

> 💡 コピー（クリップボード）が動かない場合は、Live Serverや`http://localhost`で開いてください。

---

## 🧠 仕組み（やさしい説明）

* **ルールベース生成**：

  * トーンごとに「前置き」「名詞」「動き」「締め」をランダムに組み合わせ。
  * 例（やさしめ）：`そっと` + `朝` + `を` + `ととのえる` → *「そっと 朝をととのえる」*
* **語感辞書**：

  * 既存の語彙に **自分のフレーズ**を追加 → 次の生成に反映（トーン別に保存）。
* **読みやすさスコア**：

  * **長さ**・**漢字比率**・**句読点密度**・**スペース/改行**・**絵文字**の有無から、ざっくり0〜100点。
* **完全ローカル**：

  * データはブラウザの **`localStorage`** に保存。通信は行いません。

---

## 🗂 データ仕様（保存キー）

* `cg_settings`：設定（選択トーン、生成数、オプション、直近のキーワード）
* `cg_customDict`：トーン別の自作辞書（`prefix` / `nouns` / `verbs` / `suffix` / `emojis`）
* `cg_favA`：お気に入りAの配列
* `cg_favB`：お気に入りBの配列

### お気に入りの要素（A/B）

```json
{
  "text": "そっと 朝をととのえる ☕",
  "tone": "gentle",
  "time": 1730000000000,
  "score": 86,
  "len": 15
}
```

### エクスポート形式

* **JSON**：`{ A: [...], B: [...], customDict: {...} }`
* **CSV**：列 = `bucket,tone,len,score,text`

---

## 🧩 操作とUI

* **トーン選択**：チップ（やさしめ/シュール/エモ/ミニマル）
* **生成数**：スライダー（3〜16）
* **オプション**：

  * 「絵文字を少し」：各トーン固有の絵文字を軽く付与
  * 「#ハッシュタグ」：キーワードから`#タグ`自動付与（改行で下段に表示）
* **“学習”**：入力したフレーズを **前置き/名詞/動き/締め** のどれかに追加（トーン別）
* **A/Bお気に入り**：

  * それぞれのカウント表示
  * コピー / 削除
  * 一括クリア
* **読みやすさメーター**：カード下部のゲージで可視化

---

## 🧪 使い方のコツ（クリエイティブ）

* **やさしめ**：日常・癒やし系。語尾をやわらかく。
* **シュール**：意味不明を楽しむ。画像や構図との組み合わせで刺さる。
* **エモ**：時間・季節・色を入れると強い。
* **ミニマル**：**少ない言葉 + 余白**。写真が主役の時に最適。

> 3秒で読めるか？→読めたら投稿。**回して育てる**のが正解です。

---

## 🔧 カスタマイズ

* **辞書の初期語彙を増やす**：HTML内の`TONES`定数（`<script>`）を編集。
* **トーンを追加**：`TONES.newTone`を増やし、UIのトーンチップに追加。
* **UIテーマ**：`<style>`のCSS変数（`--brand-1`など）を変更。
* **スコアの重み**：`readabilityScore()`内の係数を調整。

---

## 📦 デプロイ（公開）

* **GitHub Pages**：`caption-generator.html` をリポジトリ直下に置くだけで公開可能。
* **Static Hosting**：Netlify / Vercel などにアップロード。
* **ローカル運用**：VS Code の Live Server でOK。

---

## 🛡️ プライバシー & セキュリティ

* **通信なし**：外部に送信しません。完全ローカル。
* **クリップボード**：`navigator.clipboard.writeText` は**ユーザー操作時のみ**実行。ブラウザ設定により動作制限がある場合があります。
* **リセット**：フッターのリセットで保存データを初期化。

---

## 🧰 トラブルシューティング

* **コピーが動かない**：`file://`で開いている場合は、Live Server（`http://localhost`）で開いてください。
* **データを引き継ぎたい**：

  * 旧端末でJSONを書き出し → 新端末でDevToolsから`localStorage`に直接書き戻す（インポートUIは未実装）。
* **表示が崩れる**：最新のChrome/Edge/Safari/Firefoxを使用。CSSの`backdrop-filter`が非対応だと軽微な見た目差が出ます。

---

## 🗺️ ロードマップ

* [ ] インポートUI（JSON読み込み）
* [ ] SNS別文字数ガイド（X/IG/Threads）
* [ ] 句読点・改行プリセット＆テンプレ
* [ ] テーマ切り替え（ライト/ダーク/アイボリー）
* [ ] 公開用静的ページエクスポート（読み取り専用）

---

## 👩‍🎓 中学生向け・やさしい説明

> *むずかしい言葉を少なくして説明します。*

* このアプリは、**短い言葉（キャプション）を作る道具**です。
* **雰囲気（トーン）**を選ぶと、その雰囲気に合った言葉が**自動でたくさん**出てきます。
* いいと思ったものは **A** と **B** に分けて保存して、あとで**見くらべ**ます。
* **自分の言葉**を「辞書」に入れると、もっと**自分らしく**なります。
* 作ったデータは**このパソコンの中だけ**に保存されます。インターネットは使いません。

---

## 🤝 ライセンス

* このREADMEはテンプレートです。コードのライセンスは**お好みで**設定してください（例：MIT）。

---

## 🧾 変更履歴

* v1.0.0 初版リリース（単一HTML / 4トーン / A/B保存 / 学習 / スコア / JSON・CSV書き出し）
